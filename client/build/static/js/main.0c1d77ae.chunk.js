(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(17),c=n.n(r),s=n(13),u=n(11),o=n(35),i=n(15),l=n(3),p=n(4),d=n.n(p),b=n(10),j=n(19),f=n.n(j),h=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/getResume");case 2:if(!(n=e.sent).data.condition){e.next=8;break}return e.next=6,t({type:"RESUMES_LIST",payload:n.data.resumes});case 6:return e.next=8,t({type:"FILTER_RESUMES",payload:n.data.resumes});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=n(12),x=n(1);var v=Object(u.b)((function(e){return{resumes:e.filter_resumes}}),{nameChange:function(e){return function(){var t=Object(b.a)(d.a.mark((function t(n,a){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a().resumes,e){t.next=6;break}return t.next=4,n({type:"FILTER_RESUMES",payload:r});case 4:t.next=15;break;case 6:if(c=[],!(r.length>0)){t.next=13;break}return r.forEach((function(t){t.name.indexOf(e)>-1&&c.push(t)})),t.next=11,n({type:"FILTER_RESUMES",payload:c});case 11:t.next=15;break;case 13:return t.next=15,n({type:"FILTER_RESUMES",payload:r});case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},dateChange:function(e){return function(){var t=Object(b.a)(d.a.mark((function t(n,a){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a().resumes,e){t.next=6;break}return t.next=4,n({type:"FILTER_RESUMES",payload:r});case 4:t.next=14;break;case 6:if(!(r.length>0)){t.next=12;break}return c=r.filter((function(t){return console.log(t.date),new Date(t.date).toLocaleDateString()===new Date(e).toLocaleDateString()})),t.next=10,n({type:"FILTER_RESUMES",payload:c});case 10:t.next=14;break;case 12:return t.next=14,n({type:"FILTER_RESUMES",payload:r});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getOnRedirect:function(){return function(){var e=Object(b.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().resumes,e.next=3,t({type:"FILTER_RESUMES",payload:a});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(),u=Object(m.a)(s,2),o=u[0],i=u[1];return Object(a.useEffect)((function(){e.getOnRedirect()}),[]),Object(x.jsxs)("div",{className:"container d-flex flex-column align-items-center mt-4",children:[Object(x.jsx)("input",{onChange:function(t){c((function(){return t.target.value})),e.nameChange(t.target.value)},value:r,placeholder:"Search by name",type:"text"}),Object(x.jsx)("input",{onChange:function(t){i((function(){return t.target.value})),e.dateChange(t.target.value)},value:o,placeholder:"Search By date",type:"date",className:"mt-2"}),e.resumes.length>0&&e.resumes.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:e.name}),Object(x.jsx)("p",{children:new Date(e.date).toLocaleDateString()}),Object(x.jsx)("p",{children:e.country}),Object(x.jsx)("a",{href:"https://polar-atoll-36675.herokuapp.com/".concat(e._id),target:"_blank",children:"View Resume"}),Object(x.jsx)("br",{}),Object(x.jsx)("a",{href:"https://polar-atoll-36675.herokuapp.com/".concat(e._id),download:!0,children:"Download Resume"}),Object(x.jsx)("hr",{})]})}))]})}));var O=Object(u.b)((function(e){return{countries:e.countries}}),{addResume:function(e){var t=e.name,n=e.file,a=e.country,r=e.date;return function(){var e=Object(b.a)(d.a.mark((function e(c){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("name",t),s.append("file",n),s.append("country",a),s.append("date",r),e.next=7,f.a.post("/addResume",s);case 7:if(!e.sent.data.condition){e.next=14;break}return e.next=11,c(h());case 11:alert("Successfully Submited!"),e.next=15;break;case 14:alert("Please Try Again Later!");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(),u=Object(m.a)(s,2),o=u[0],i=u[1],l=Object(a.useState)(""),p=Object(m.a)(l,2),j=p[0],f=p[1],h=Object(a.useState)(),v=Object(m.a)(h,2),O=v[0],g=v[1];function y(){return(y=Object(b.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.addResume({name:r,file:O,country:j,date:o});case 3:c((function(){return""})),f((function(){return""})),i((function(){return null})),g((function(){return null}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("form",{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control",placeholder:"Your name",onChange:function(e){c(e.target.value)},required:!0,value:r,type:"text"})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control",placeholder:"Date",onChange:function(e){i(e.target.value)},required:!0,value:o,type:"date"})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsxs)("select",{className:"custom-select",onChange:function(e){f(e.target.value)},required:!0,value:j,children:[Object(x.jsx)("option",{selected:!0,children:"Select Menu"}),e.countries.length>0&&e.countries.map((function(e){return Object(x.jsx)("option",{value:e,children:e})}))]})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{className:"form-control-file",placeholder:"Resume",onChange:function(e){g(e.target.files[0])},required:!0,type:"file"})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})})]})})}));var g=function(){return Object(x.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(x.jsx)(i.b,{className:"navbar-brand",to:"/",children:"Resume App"}),Object(x.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(x.jsx)("span",{className:"navbar-toggler-icon"})}),Object(x.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(x.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(x.jsx)("li",{className:"nav-item active",children:Object(x.jsx)(i.b,{className:"nav-link",to:"/",children:"InputPage"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(i.b,{className:"nav-link",to:"/list",children:"ListPage"})})]})})]})};var y=Object(u.b)(null,{countryList:function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/countries");case 2:return n=e.sent,e.next=5,t({type:"COUNTRIES_LIST",payload:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getResume:h})((function(e){return Object(a.useEffect)((function(){e.countryList()}),[]),Object(a.useEffect)((function(){e.getResume()}),[]),Object(x.jsxs)(i.a,{children:[Object(x.jsx)(g,{}),Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{path:"/",component:O,exact:!0}),Object(x.jsx)(l.b,{path:"/list",component:v}),Object(x.jsx)(l.a,{to:"/"})]})]})})),S=Object(s.c)({countries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUNTRIES_LIST":return t.payload;default:return e}},resumes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESUMES_LIST":return t.payload;default:return e}},filter_resumes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_RESUMES":return t.payload;default:return e}}});c.a.render(Object(x.jsx)(u.a,{store:Object(s.d)(S,Object(s.a)(o.a)),children:Object(x.jsx)(y,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.0c1d77ae.chunk.js.map